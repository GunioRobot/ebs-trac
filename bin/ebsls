#! /bin/sh -e
#
# GET data from Trac, and list response to stdout.
#
# Expects ~/.ebsconf with the following content:
#
#	protocol=https
#	host=www.example.com
#	user=tracuser
#	pass=tracuser_password
#


url=tickets
if [ "x$1" != "x" ]; then
	url=$1
fi

. ~/.ebsconf

u=$protocol://$host/$urlprefix/$url
echo "$u:" 

# -k option because my SSL cert is self-signed, old, for wrong domain.
curl -s -k --user $user:$pass $u
